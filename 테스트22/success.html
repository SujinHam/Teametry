<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>생성 완료</title>
  <link rel="stylesheet" href="style2.css" />
</head>

<body>
  <div class="success-container">
    <div class="success-box">
      <p class="message">팀 생성이 완료되었습니다</p>

      <div class="field">
        <label>링크</label>
        <div class="copy-box">
          <input type="text" readonly id="team-link" />
          <button onclick="copyText(this)">📋</button>
        </div>
      </div>

      <div class="field">
        <label>방코드</label>
        <div class="copy-box">
          <input type="text" readonly id="room-code" />
          <button onclick="copyText(this)">📋</button>
        </div>
      </div>

      <div class="field">
        <label>비밀번호</label>
        <div class="copy-box">
          <input type="text" readonly id="room-password" />
          <button onclick="copyText(this)">📋</button>
        </div>
      </div>

      <button class="home-btn" onclick="goHome()">완료</button>
    </div>
  </div>

  <script src="success.js"></script>
  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const roomCode = urlParams.get("room");
    const password = urlParams.get("pw");

    if (roomCode) {
      localStorage.setItem("room_code", roomCode);
      document.getElementById("room-code").value = roomCode;
      document.getElementById("team-link").value = `${window.location.origin}/join.html`;
    }

    if (password) {
      localStorage.setItem("room_password", password);
      document.getElementById("room-password").value = password;
    }

    function copyText(button) {
      const input = button.previousElementSibling;
      input.select();
      document.execCommand("copy");
      alert("복사되었습니다: " + input.value);
    }

    function goHome() {
      window.location.href = "home.html";
    }
  </script>

</body>

</html>